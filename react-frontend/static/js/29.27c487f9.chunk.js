(this.webpackJsonpogaphoto=this.webpackJsonpogaphoto||[]).push([[29],{1063:function(e,t,n){"use strict";n.r(t);var o=n(26),r=n(6),c=n(9),a=n.n(c),s=n(14),i=n(4),d=n(15),l=n(0),b=n(1),u=n.n(b),p=n(13),j=n(274),x=n(12),g=n.n(x),f=n(8),h=n(29),O=n.n(h),m=n(17),y=n(249),k=n.n(y),v=n(22),w=(n(40),n(57)),P=(n(76),void 0);function S(){var e=Object(d.a)(["\nmargin-top:5px;\ndisplay:flex;\nflex-direction:column;\nalign-items:flex-start;\nbackground-color: #fffffff;\npadding:0px;\nwidth:95%;\nli{\n\tlist-style:none;\n\tfont-size:18px;\n\twidth:100%;\n  padding:10px;\n  border-radius:4px;\n  box-sizing:border-box;\n\tbackground-color: #ffff;\n\tcolor:grey;\n\tmargin-top:1.7px;\n  box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n\tmargin-bottom:4px;\n  small{\n    font-size:14px;\n  }\n}\n"]);return S=function(){return e},e}function H(){var e=Object(d.a)(["\n  && {\n\n\nmargin-top:8px;\n    color: rgb(190, 10, 10);\n    border-color: rgb(190, 10, 10);\n    &:focus {\n      background-color: white;\n    }\n    // @media (max-width: 1100px) {\n    //   display: none;\n    // }\n\t&:disabled {\n\t\tborder: 1px solid #999999;\n        background-color: #cccccc;\n        color: #666666;\n\t}\n  }\n"]);return H=function(){return e},e}function z(){var e=Object(d.a)(["\nfont-size:20px;\ncolor:grey;\nfont-weight:500;\n"]);return z=function(){return e},e}function D(){var e=Object(d.a)(["\nwidth:100%;\ndisplay:flex;\nflex-direction:column;\nalign-items:center;\nbackground-color:#f1f0f0;\nmin-height:440px;\npadding-top:10px;\n"]);return D=function(){return e},e}var C=p.a.div(D()),E=p.a.p(z()),B={marginTop:"10px",marginRight:"8px"},I=Object(p.a)(j.a)(H()),T=p.a.ul(S()),A=function(e){var t=e.location.state,n=t.Data,o=t.token,c=Object(b.useState)({}),d=Object(i.a)(c,2),p=d[0],j=d[1],x=Object(f.b)(),h=Object(v.g)(),y=Object(f.c)((function(e){return e.bookings})),S=Object(b.useState)(!1),H=Object(i.a)(S,2),z=(H[0],H[1]);Object(b.useEffect)((function(){y.length&&y.map((function(e){return e._id===n._id&&j(e)}))}),[y,n._id]);var D=function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,g.a.get("".concat("","/photographer/StartSession?id=").concat(t),{headers:{authorization:o}}).then((function(e){console.log(e.data),x(Object(m.a)(e.data.userData))})).catch((function(e){e.response&&console.log(e.response.data.message),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,g.a.get("".concat("","/photographer/EndSession?id=").concat(t),{headers:{authorization:o}}).then((function(e){console.log(e.data),x(Object(m.a)(e.data.userData))})).catch((function(e){e.response&&console.log(e.response.data.message),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=u.a.useMemo((function(){return[p]}),[p]),R=u.a.useMemo((function(){return[{Header:"location",accessor:"address"},{Header:"location details",accessor:"bookingProcess.AdditionalAddress"},{Header:"Category",accessor:"bookingProcess.category"},{Header:"Purpose",accessor:"bookingProcess.purpose"},{Header:"Amount(NGN)",accessor:"bookingProcess.price"},{Header:"Status",accessor:"bookingProcess.status"},{Header:"payment type",accessor:"bookingProcess.payment_type"},{Header:"Event Date",accessor:"bookingProcess.date"},{Header:"Event Duration",accessor:"bookingProcess.duration"},{Header:"Event time(24h)",accessor:"bookingProcess.time"},{Header:"Client Name",accessor:"bookedById.fname"},{Header:"Client no.",accessor:"bookedById.mobile"}]}),[]),N=Object(w.useTable)({columns:R,data:A});N.getTableProps,N.getTableBodyProps,N.headerGroups,N.rows,N.prepareRow;return Object(l.jsxs)("div",{style:{position:"relative",width:"100%"},children:[Object(l.jsx)("div",{onClick:h.goBack,style:{position:"absolute",left:"30px",top:"18px",cursor:"pointer",zIndex:3},children:Object(l.jsx)(O.a,{style:{fontSize:"30px"}})}),Object(l.jsx)(E,{style:{textAlign:"center",fontSize:"15px"},children:"Booking Details"}),Object(l.jsx)("div",{style:{height:"60px"}}),p.bookedById&&Object(l.jsx)(T,{children:Object(l.jsxs)("li",{children:[Object(l.jsxs)(E,{children:[p.bookedById.fname," ",p.bookedById.lname]}),Object(l.jsxs)("small",{children:["Location: ",p.address]}),Object(l.jsx)("br",{}),Object(l.jsxs)("small",{children:["Price per min: NGN ",p.pricePerMinutes]}),Object(l.jsx)("br",{}),Object(l.jsxs)("small",{children:["Address details :",p.bookingProcess&&p.bookingProcess.AdditionalAddress,":"]}),Object(l.jsx)("br",{}),Object(l.jsxs)("small",{children:["Event Time:","   ",p.bookingProcess&&p.bookingProcess.time,":"]}),Object(l.jsx)("br",{}),Object(l.jsxs)("small",{children:["Payment status:","   ",p.bookingProcess&&p.bookingProcess.status]})]})}),Object(l.jsx)("div",{style:{height:"30px"}}),Object(l.jsx)(I,{disabled:p&&p.timeStart,onClick:D.bind(P,p._id),style:Object(r.a)(Object(r.a)({},B),{},{minWidth:"70px",alignSelf:"flex-end"}),variant:"outlined",color:"secondary",children:Object(l.jsxs)("small",{children:[" ",p.timeStart?"started":"Start Session"]})}),p&&p.timeStart?Object(l.jsx)(I,{disabled:p.timeEnd,onClick:C.bind(P,p._id),style:Object(r.a)(Object(r.a)({},B),{},{minWidth:"70px",alignSelf:"flex-end"}),variant:"outlined",color:"secondary",children:Object(l.jsxs)("small",{children:[" ",p.timeEnd?"Ended":"End Session"]})}):null,Object(l.jsx)("div",{style:{height:"30px"}}),p.sessionDuration||p.sessionDuration>-1?Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("small",{children:"completed"}),Object(l.jsx)(k.a,{style:{color:"#25D366",fontSize:"40px"}})]}),Object(l.jsxs)(E,{children:["total duration :",p.sessionDuration," minutes !"]})]}):null]})};t.default=function(e){var t=Object(f.c)((function(e){return e.user.currentUser})),n=e.match,c=e.history,i=Object(f.b)(),d=Object(f.c)((function(e){return e.bookings})),p=t&&t.token,j=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("","/photographer/FectMyBookings"),{headers:{authorization:p}}).then((function(e){console.log(e.data),i(Object(m.a)(e.data.userData))})).catch((function(e){e.response&&console.log(e.response.data.message),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("","/photographer/AcceptOffer?id=").concat(t),{headers:{authorization:p}}).then((function(e){console.log(e.data),i(Object(m.a)(e.data.userData))})).catch((function(e){e.response&&console.log(e.response.data.message),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){j()}),[]);var h=u.a.useMemo((function(){return Object(o.a)(d)}),[d]),O=u.a.useMemo((function(){return[{Header:"location",accessor:"address"},{Header:"Category",accessor:"bookingProcess.category"},{Header:"Event Date",accessor:"bookingProcess.date"},{Header:"Event Duration",accessor:"bookingProcess.duration"},{Header:"Event time(24)",accessor:"bookingProcess.time"},{Header:"Client Name",accessor:"bookedById.fname"},{Header:"Accept Invite",accessor:"accepted",Cell:function(e){var t=e.row;return Object(l.jsx)(I,{style:{fontSize:"9px"},onClick:x.bind(P,t.original._id),disabled:t.original.accepted,children:t.original.accepted?"accepted":"accept book"})}},{Header:"View Details",accessor:"bookingProcess._id",Cell:function(e){var t=e.row;return Object(l.jsx)(I,{style:{fontSize:"9px"},disabled:!t.original.accepted,onClick:function(){return c.push({pathname:"".concat(n.url,"/events"),state:{Data:t.original,token:p}})},children:"View"})}}]}),[]),y=Object(w.useTable)({columns:O,data:h}),k=y.getTableProps,S=y.getTableBodyProps,H=y.headerGroups,z=y.rows,D=y.prepareRow;return Object(l.jsx)(C,{children:Object(l.jsx)("div",{style:{backgroundColor:"#ffffff",borderRadius:"8px",minHeight:"500px",width:"94%",padding:"10px",marginTop:"20px",marginBottom:"20px",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(l.jsxs)(v.d,{children:[Object(l.jsx)(v.b,{exact:!0,path:n.url,children:Object(l.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"8px",minHeight:"500px",width:"94%",padding:"10px",marginTop:"10px",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(l.jsx)(E,{style:{fontSize:"15px"},children:"Booking Received"}),Object(l.jsx)("div",{style:{overflowX:"auto",maxWidth:"90vw"},children:Object(l.jsxs)("table",Object(r.a)(Object(r.a)({},k()),{},{style:{border:"none"},children:[Object(l.jsx)("thead",{children:H.map((function(e){return Object(l.jsx)("tr",Object(r.a)(Object(r.a)({className:"mytablerow"},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(l.jsx)("th",Object(r.a)(Object(r.a)({},e.getHeaderProps()),{},{style:{color:"grey",height:"40px",fontSize:"12px",padding:"10px",borderRadius:"2px",boxSizing:"border-box",backgroundColor:"#e0dede"},children:e.render("Header")}))}))}))}))}),Object(l.jsx)("tbody",Object(r.a)(Object(r.a)({},S()),{},{children:z.map((function(e){return D(e),Object(l.jsx)("tr",Object(r.a)(Object(r.a)({className:"tableRowdata"},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(l.jsx)("td",Object(r.a)(Object(r.a)({},e.getCellProps()),{},{style:{padding:"3px",boxSizing:"border-box",fontSize:"13px",border:"none"},children:e.render("Cell")}))}))}))}))}))]}))})]})}),Object(l.jsx)(v.b,{path:"".concat(n.url,"/events"),component:A})]})})})}}}]);
//# sourceMappingURL=29.27c487f9.chunk.js.map