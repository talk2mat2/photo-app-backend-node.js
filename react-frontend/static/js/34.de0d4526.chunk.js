(this.webpackJsonpogaphoto=this.webpackJsonpogaphoto||[]).push([[34],{1068:function(n,e,t){"use strict";t.r(e);var a=t(6),r=t(8),o=t.n(r),i=t(13),c=t(4),l=t(15),s=t(0),d=t(1),u=t.n(d),p=t(14),b=t(274),f=t(9),x=t(271),m=t(276),h=t(273),g=t(135),j=t(180),O=t(17),y=t(12),v=t.n(y);function w(){var n=Object(l.a)(["\n\nover-flow:scroll;\nbackground-color: rgb(246, 249, 255);\n  padding:10px;\n  box-sizing:border-box;\n  width: 550px;\n  max-height: 100vh;\n  min-height:200px;\n  border-radius:8px;\n  // background-image: linear-gradient(to right, #ddd6f3 , #ddd6f3);\ndisplay:flex;\n  flex-direction:column;\n  align-items:center;\n  justify-content:flex-start;\n  @media(max-width:630px){\nwidth:90vw;\n  }\n"]);return w=function(){return n},n}function k(){var n=Object(l.a)(["\n  && {\n\n\nmargin-top:8px;\n    color: rgb(190, 10, 10);\n    border-color: rgb(190, 10, 10);\n    &:focus {\n      background-color: white;\n    }\n    // @media (max-width: 1100px) {\n    //   display: none;\n    // }\n  }\n"]);return k=function(){return n},n}function N(){var n=Object(l.a)(["\nmargin-top:20px;\ndisplay:flex;\nflex-direction:column;\nalign-items:flex-start;\npadding:0px;\nwidth:95%;\nli{\n\tlist-style:none;\n\tfont-size:18px;\n\tcolor:grey;\n}\n"]);return N=function(){return n},n}function C(){var n=Object(l.a)(["\nfont-size:20px;\ncolor:grey;\nfont-weight:500;\n"]);return C=function(){return n},n}function z(){var n=Object(l.a)(["\nwidth:100%;\ndisplay:flex;\nflex-direction:column;\nalign-items:center;\nbackground-color:#f1f0f0;\nmin-height:440px;\npadding-top:10px;\n"]);return z=function(){return n},n}function S(){var n=Object(l.a)(["\n  width: 100vw;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background-color: rgb(255, 255, 255, 0.5);\n  text-align: center;\n  justify-content: center;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  padding: 10px;\n  box-sizing: border-boz;\n  align-items: center;\n\n  transform: translate(-50%, -50%);\n  z-index: 7;\n"]);return S=function(){return n},n}p.a.div(S());var _=p.a.div(z()),T=p.a.p(C()),B=p.a.ul(N()),P=Object(p.a)(b.a)(k()),W=p.a.div(w()),A=Object(x.a)((function(n){return{root:{width:"100%"},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),D={marginTop:"50px",marginLeft:"80px"};e.default=function(){var n=A(),e=Object(f.c)((function(n){return n.user.currentUser})),t=e&&e.userData,r=u.a.useState(!1),l=Object(c.a)(r,2),p=l[0],b=l[1],x=u.a.useState(0),y=Object(c.a)(x,2),w=y[0],k=y[1],N=Object(d.useState)(!1),C=Object(c.a)(N,2),z=(C[0],C[1]),S=Object(f.b)(),U=e&&e.token,E=Object(d.useState)(!1),G=Object(c.a)(E,2),F=(G[0],G[1]),I=function(){b(!1)},J=u.a.useCallback(function(){var n=Object(i.a)(o.a.mark((function n(e){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("called"),e){n.next=3;break}return n.abrupt("return",null);case 3:return F(!0),n.next=6,v.a.post("".concat("","/users/fundWallet"),{transaction_id:e},{headers:{authorization:U}}).then((function(n){console.log(n.data),F(!1),z(!0),S(Object(O.f)(n.data.userData))})).catch((function(n){F(!1),alert("An error occured"),n.response&&(console.log(n.response.data.message),alert(n.response.data.message)),console.log(n)}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]),L={public_key:"FLWPUBK_TEST-e96ca53411ac8244d05c06677fca3509-X",tx_ref:(new Date).getTime()+"-"+t._id,amount:parseFloat(w),currency:"NGN",payment_options:"card,mobilemoney,ussd",customer:{email:t.Email,phonenumber:t.mobile,name:t.fname},customizations:{title:"Update wallet",description:"Payment for photowallet",logo:"https://st2.depositphotos.com/4403291/7418/v/450/depositphotos_74189661-stock-illustration-online-shop-log.jpg"}},q=Object(g.b)(L),H=function(){var n=Object(i.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,q({callback:function(n){console.log(n),Object(g.a)(),"successful"===n.status&&(console.log(n),J(n.transaction_id))},onClose:function(){}});case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(s.jsx)(_,{children:Object(s.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"12px",minHeight:"560px",width:"94%",padding:"10px",marginTop:"20px",marginBottom:"20px",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(s.jsx)(T,{style:{fontSize:"16px"},children:"Wallet Page"}),Object(s.jsxs)(B,{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("p",{className:"menuitem",children:[" ","PhotoCredits: ",Object(s.jsxs)("b",{children:["NGN ",t.wallet," Balance"]})]})}),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)(P,{onClick:function(){b(!0)},style:Object(a.a)(Object(a.a)({},D),{},{minWidth:"100px"}),variant:"outlined",color:"secondary",children:Object(s.jsx)("small",{children:" Update Walllet"})})]})]}),Object(s.jsx)(m.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:n.modal,open:p,onClose:I,closeAfterTransition:!0,BackdropComponent:h.a,BackdropProps:{timeout:500},children:Object(s.jsx)(j.a,{in:p,children:Object(s.jsxs)(W,{children:[Object(s.jsxs)("h2",{style:{fontSize:"20px",textAlign:"left",alignSelf:"flex-start"},className:"tt-heading-title",children:["Current Balance: NGN ",t.wallet]}),Object(s.jsx)("div",{style:{height:"40px"}}),Object(s.jsx)("div",{style:{width:"70%",backgroundColor:"grey"},className:"form-group",children:Object(s.jsx)("input",{onChange:function(n){k(n.target.value)},value:w,style:{width:"100%"},type:"number",className:"form-control",name:"email",placeholder:"Enter Amount greater than 1000",required:!0})}),Object(s.jsx)("div",{style:{height:"8px"}}),Object(s.jsx)("div",{style:{marginTop:"auto"},children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsx)("button",{disabled:!w||w<500,onClick:function(){I(),H()},type:"submit",className:"btn btn-primary btn-lg margin-top-40",children:"Make Payment"})})})})]})})})]})})}}}]);
//# sourceMappingURL=34.de0d4526.chunk.js.map